<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agentic AI Study Planner</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p>Initializing Agentic AI System...</p>
    </div>

    <!-- Authentication Container -->
    <div id="authContainer" class="auth-container hidden">
        <!-- Login Form -->
        <div id="loginForm" class="auth-form">
            <div class="auth-header">
                <i class="fas fa-brain"></i>
                <h1>Agentic AI Study Planner</h1>
                <p>Your intelligent study companion powered by autonomous AI agents</p>
            </div>
            
            <form id="loginFormElement">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                
                <button type="submit" class="btn-primary">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>
                
                <div class="auth-switch">
                    Don't have an account? 
                    <a href="#" onclick="showSignup()">Sign up here</a>
                </div>
                
                <div class="demo-mode">
                    <button type="button" onclick="enterDemoMode()" class="btn-demo">
                        <i class="fas fa-play"></i> Try Demo Mode
                    </button>
                </div>
            </form>
        </div>

        <!-- Signup Form -->
        <div id="signupForm" class="auth-form hidden">
            <div class="auth-header">
                <i class="fas fa-user-plus"></i>
                <h1>Create Account</h1>
                <p>Join thousands of students using AI-powered study planning</p>
            </div>
            
            <form id="signupFormElement">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" required>
                </div>
                
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" required>
                </div>
                
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" required minlength="6">
                </div>
                
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" required>
                </div>
                
                <button type="submit" class="btn-primary">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
                
                <div class="auth-switch">
                    Already have an account? 
                    <a href="#" onclick="showLogin()">Sign in here</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="main-app hidden">
        <!-- Navigation Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-brain"></i>
                    <span>Agentic AI Study Planner</span>
                </div>
                
                <div class="user-menu">
                    <div class="agent-status" id="agentStatus">
                        <i class="fas fa-robot"></i>
                        <span id="agentCount">3</span> Agents Active
                    </div>
                    
                    <div class="user-profile">
                        <span id="userName">Demo User</span>
                        <button onclick="logout()" class="btn-logout">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard -->
            <section id="dashboard" class="dashboard">
                <div class="dashboard-grid">
                    <!-- Study Plan Card -->
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-calendar-alt"></i>
                            <h3>Create Study Plan</h3>
                        </div>
                        <div class="card-content">
                            <form id="studyPlanForm">
                                <div class="form-group">
                                    <label>Subjects</label>
                                    <div id="subjectsContainer">
                                        <div class="subject-input">
                                            <input type="text" placeholder="Subject name" class="subject-name">
                                            <select class="subject-difficulty">
                                                <option value="Easy">Easy</option>
                                                <option value="Medium" selected>Medium</option>
                                                <option value="Hard">Hard</option>
                                            </select>
                                            <input type="date" class="subject-exam-date">
                                            <button type="button" onclick="removeSubject(this)" class="btn-remove">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <button type="button" onclick="addSubject()" class="btn-add">
                                        <i class="fas fa-plus"></i> Add Subject
                                    </button>
                                </div>
                                
                                <div class="form-group">
                                    <label for="dailyHours">Daily Study Hours</label>
                                    <input type="number" id="dailyHours" min="1" max="12" value="4">
                                </div>
                                
                                <button type="submit" class="btn-primary">
                                    <i class="fas fa-magic"></i> Generate AI Study Plan
                                </button>
                                
                                <button type="button" onclick="loadDemoData()" class="btn-demo" style="margin-top: 10px;">
                                    <i class="fas fa-play"></i> Load Demo Data
                                </button>
                            </form>
                            
                            <div id="studyPlanResult" class="result-container hidden">
                                <h4>üìÖ Your AI-Generated Study Plan</h4>
                                <div id="studyPlanOutput" class="formatted-output"></div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Tutor Card -->
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-robot"></i>
                            <h3>AI Tutor</h3>
                        </div>
                        <div class="card-content">
                            <div class="chat-container">
                                <div id="chatMessages" class="chat-messages">
                                    <div class="message ai-message">
                                        <i class="fas fa-robot"></i>
                                        <div class="message-content">
                                            <p>Hello! I'm your AI tutor. Ask me anything about your studies!</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <form id="chatForm" class="chat-input">
                                    <input type="text" id="chatInput" placeholder="Ask your question..." required>
                                    <button type="submit">
                                        <i class="fas fa-paper-plane"></i>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Tracker Card -->
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-chart-line"></i>
                            <h3>Enhanced Progress Tracker</h3>
                        </div>
                        <div class="card-content">
                            <form id="progressForm">
                                <div class="progress-input-grid">
                                    <div class="form-group">
                                        <label for="completedTasks">Completed Tasks</label>
                                        <input type="number" id="completedTasks" min="0" value="0">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="totalTasks">Total Tasks</label>
                                        <input type="number" id="totalTasks" min="1" value="10">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="studyHours">Study Hours Today</label>
                                        <input type="number" id="studyHours" min="0" max="24" step="0.5" value="0">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="focusLevel">Focus Level (1-10)</label>
                                        <input type="range" id="focusLevel" min="1" max="10" value="5" class="focus-slider">
                                        <div class="slider-value" id="focusValue">5</div>
                                    </div>
                                </div>
                                
                                <button type="submit" class="btn-primary btn-analyze">
                                    <i class="fas fa-analytics"></i> Analyze Progress
                                </button>
                            </form>
                            
                            <div id="progressResult" class="result-container hidden">
                                <h4>üìä Comprehensive Progress Analysis</h4>
                                
                                <!-- Quick Stats Cards -->
                                <div class="quick-stats-grid">
                                    <div class="stat-card completion">
                                        <div class="stat-icon">
                                            <i class="fas fa-tasks"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value" id="completionRate">0%</div>
                                            <div class="stat-label">Completion Rate</div>
                                        </div>
                                    </div>
                                    
                                    <div class="stat-card productivity">
                                        <div class="stat-icon">
                                            <i class="fas fa-rocket"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value" id="productivityScore">0.0</div>
                                            <div class="stat-label">Productivity Score</div>
                                        </div>
                                    </div>
                                    
                                    <div class="stat-card focus">
                                        <div class="stat-icon">
                                            <i class="fas fa-bullseye"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value" id="focusScore">5/10</div>
                                            <div class="stat-label">Focus Level</div>
                                        </div>
                                    </div>
                                    
                                    <div class="stat-card time">
                                        <div class="stat-icon">
                                            <i class="fas fa-clock"></i>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value" id="studyTime">0h</div>
                                            <div class="stat-label">Study Time</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Enhanced Charts Grid -->
                                <div class="enhanced-charts-container">
                                    <div class="chart-section">
                                        <div class="chart-card">
                                            <h5><i class="fas fa-pie-chart"></i> Task Completion</h5>
                                            <div class="chart-wrapper">
                                                <canvas id="progressChart" width="300" height="200"></canvas>
                                            </div>
                                        </div>
                                        
                                        <div class="chart-card">
                                            <h5><i class="fas fa-chart-line"></i> Progress Trend</h5>
                                            <div class="chart-wrapper">
                                                <canvas id="trendChart" width="300" height="200"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="chart-section">
                                        <div class="chart-card">
                                            <h5><i class="fas fa-chart-bar"></i> Weekly Performance</h5>
                                            <div class="chart-wrapper">
                                                <canvas id="weeklyChart" width="300" height="200"></canvas>
                                            </div>
                                        </div>
                                        
                                        <div class="chart-card">
                                            <h5><i class="fas fa-chart-area"></i> Study Hours Distribution</h5>
                                            <div class="chart-wrapper">
                                                <canvas id="hoursChart" width="300" height="200"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Progress Analysis Summary -->
                                <div id="progressSummary" class="enhanced-analysis-summary"></div>
                                
                                <!-- AI Insights -->
                                <div id="aiInsights" class="enhanced-ai-insights"></div>
                                
                                <!-- Achievement Badges -->
                                <div id="achievementBadges" class="achievement-section hidden">
                                    <h5><i class="fas fa-trophy"></i> Achievements Unlocked</h5>
                                    <div class="badges-container"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Notes Upload & Question Generation Card -->
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-file-upload"></i>
                            <h3>Notes & Question Generator</h3>
                        </div>
                        <div class="card-content">
                            <!-- Tab Navigation -->
                            <div class="tab-navigation">
                                <button class="tab-btn active" onclick="showTab('upload')">
                                    <i class="fas fa-upload"></i> Upload Notes
                                </button>
                                <button class="tab-btn" onclick="showTab('questions')">
                                    <i class="fas fa-question-circle"></i> Generate Questions
                                </button>
                                <button class="tab-btn" onclick="showTab('mcqs')">
                                    <i class="fas fa-list-check"></i> Generate MCQs
                                </button>
                            </div>

                            <!-- Upload Notes Tab -->
                            <div id="uploadTab" class="tab-content active">
                                <form id="notesUploadForm">
                                    <div class="form-group">
                                        <label for="notesTitle">Title</label>
                                        <input type="text" id="notesTitle" placeholder="e.g., Chapter 5: Data Structures">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="notesSubject">Subject</label>
                                        <select id="notesSubject">
                                            <option value="General">General</option>
                                            <option value="Mathematics">Mathematics</option>
                                            <option value="Physics">Physics</option>
                                            <option value="Chemistry">Chemistry</option>
                                            <option value="Biology">Biology</option>
                                            <option value="Computer Science">Computer Science</option>
                                            <option value="History">History</option>
                                            <option value="Literature">Literature</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                    
                                    <!-- File Upload Option -->
                                    <div class="form-group">
                                        <label>Upload Method</label>
                                        <div class="upload-method-toggle">
                                            <button type="button" class="method-btn active" onclick="toggleUploadMethod('text')">
                                                <i class="fas fa-keyboard"></i> Type/Paste Text
                                            </button>
                                            <button type="button" class="method-btn" onclick="toggleUploadMethod('file')">
                                                <i class="fas fa-file-upload"></i> Upload File
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Text Input Method -->
                                    <div id="textInputMethod" class="upload-method active">
                                        <div class="form-group">
                                            <label for="notesContent">Notes Content</label>
                                            <textarea id="notesContent" rows="8" placeholder="Paste your study notes here..."></textarea>
                                        </div>
                                    </div>
                                    
                                    <!-- File Upload Method -->
                                    <div id="fileInputMethod" class="upload-method hidden">
                                        <div class="form-group">
                                            <label for="notesFile">Upload File (PDF, TXT)</label>
                                            <div class="file-upload-area">
                                                <input type="file" id="notesFile" accept=".pdf,.txt" class="file-input">
                                                <div class="file-upload-display">
                                                    <i class="fas fa-cloud-upload-alt"></i>
                                                    <p>Click to select or drag & drop your file</p>
                                                    <small>Supported formats: PDF, TXT (Max 10MB)</small>
                                                </div>
                                                <div id="fileInfo" class="file-info hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <button type="submit" class="btn-primary">
                                        <i class="fas fa-cloud-upload-alt"></i> Upload & Process Notes
                                    </button>
                                </form>
                                
                                <div id="notesUploadResult" class="result-container hidden">
                                    <h4>üìö Notes Processing Result</h4>
                                    <div id="notesUploadOutput"></div>
                                </div>
                            </div>

                            <!-- Generate Questions Tab -->
                            <div id="questionsTab" class="tab-content hidden">
                                <form id="questionsForm">
                                    <!-- Upload Method Toggle -->
                                    <div class="form-group">
                                        <label>Content Source</label>
                                        <div class="upload-method-toggle">
                                            <button type="button" class="method-btn active" onclick="toggleQuestionUploadMethod('text')">
                                                <i class="fas fa-keyboard"></i> Type/Paste Text
                                            </button>
                                            <button type="button" class="method-btn" onclick="toggleQuestionUploadMethod('file')">
                                                <i class="fas fa-file-upload"></i> Upload File
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Text Input Method -->
                                    <div id="questionTextMethod" class="upload-method active">
                                        <div class="form-group">
                                            <label for="questionContent">Content for Questions</label>
                                            <textarea id="questionContent" rows="6" placeholder="Paste the content you want to generate questions from..."></textarea>
                                        </div>
                                    </div>
                                    
                                    <!-- File Upload Method -->
                                    <div id="questionFileMethod" class="upload-method hidden">
                                        <div class="form-group">
                                            <label for="questionFile">Upload File (PDF, TXT)</label>
                                            <div class="file-upload-area" id="questionFileUploadArea">
                                                <input type="file" id="questionFile" accept=".pdf,.txt" class="file-input">
                                                <div class="file-upload-display">
                                                    <i class="fas fa-cloud-upload-alt"></i>
                                                    <p>Click to select or drag & drop your file</p>
                                                    <small>Supported formats: PDF, TXT (Max 10MB)</small>
                                                </div>
                                                <div id="questionFileInfo" class="file-info hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="questionType">Question Type</label>
                                        <select id="questionType">
                                            <option value="mixed">Mixed (All Types)</option>
                                            <option value="mcq">Multiple Choice</option>
                                            <option value="short_answer">Short Answer</option>
                                            <option value="essay">Essay Questions</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="numQuestions">Number of Questions</label>
                                        <input type="number" id="numQuestions" min="1" max="20" value="5">
                                    </div>
                                    
                                    <button type="submit" class="btn-primary">
                                        <i class="fas fa-magic"></i> Generate Questions
                                    </button>
                                </form>
                                
                                <div id="questionsResult" class="result-container hidden">
                                    <h4>‚ùì Generated Questions</h4>
                                    <div id="questionsOutput"></div>
                                </div>
                            </div>

                            <!-- Generate MCQs Tab -->
                            <div id="mcqsTab" class="tab-content hidden">
                                <form id="mcqsForm">
                                    <!-- Upload Method Toggle -->
                                    <div class="form-group">
                                        <label>Content Source</label>
                                        <div class="upload-method-toggle">
                                            <button type="button" class="method-btn active" onclick="toggleMCQUploadMethod('text')">
                                                <i class="fas fa-keyboard"></i> Type/Paste Text
                                            </button>
                                            <button type="button" class="method-btn" onclick="toggleMCQUploadMethod('file')">
                                                <i class="fas fa-file-upload"></i> Upload File
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Text Input Method -->
                                    <div id="mcqTextMethod" class="upload-method active">
                                        <div class="form-group">
                                            <label for="mcqContent">Content for MCQs</label>
                                            <textarea id="mcqContent" rows="6" placeholder="Paste the content you want to generate MCQs from..."></textarea>
                                        </div>
                                    </div>
                                    
                                    <!-- File Upload Method -->
                                    <div id="mcqFileMethod" class="upload-method hidden">
                                        <div class="form-group">
                                            <label for="mcqFile">Upload File (PDF, TXT)</label>
                                            <div class="file-upload-area" id="mcqFileUploadArea">
                                                <input type="file" id="mcqFile" accept=".pdf,.txt" class="file-input">
                                                <div class="file-upload-display">
                                                    <i class="fas fa-cloud-upload-alt"></i>
                                                    <p>Click to select or drag & drop your file</p>
                                                    <small>Supported formats: PDF, TXT (Max 10MB)</small>
                                                </div>
                                                <div id="mcqFileInfo" class="file-info hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="numMcqs">Number of MCQs</label>
                                        <input type="number" id="numMcqs" min="1" max="15" value="5">
                                    </div>
                                    
                                    <button type="submit" class="btn-primary">
                                        <i class="fas fa-list-check"></i> Generate MCQs
                                    </button>
                                </form>
                                
                                <div id="mcqsResult" class="result-container hidden">
                                    <h4>‚úÖ Generated MCQs</h4>
                                    <div id="mcqsOutput"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- System Status Card -->
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-cogs"></i>
                            <h3>Autonomous Agents Status</h3>
                        </div>
                        <div class="card-content">
                            <div id="systemStatus" class="system-status">
                                <div class="loading">Loading agent status...</div>
                            </div>
                            
                            <button onclick="refreshSystemStatus()" class="btn-secondary">
                                <i class="fas fa-sync-alt"></i> Refresh Status
                            </button>
                            
                            <button onclick="triggerDemo()" class="btn-demo">
                                <i class="fas fa-play"></i> Demo Autonomous Behavior
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Notification Container -->
    <div id="notifications" class="notifications"></div>

    <script src="app.js"></script>
    <script src="demo-data.js"></script>
</body>
</html>
